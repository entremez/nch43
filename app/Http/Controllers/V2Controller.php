<?php

namespace App\Http\Controllers;
use App\Models\Procedure;

use Illuminate\Http\Request;

class V2Controller extends Controller
{

    public function nch43()
    {
        $row1	=	"6347437386369647366146986371623326168045";
        $row2	=	"9774246762428114572042533237322707360751";
        $row3	=	"1676622766565026710732907978531355385859";
        $row4	=	"1256859926969668273105037293155712101421";
        $row5	=	"5559563564383882462231624309900618443253";
        $row6	=	"1622779439495443548217379323788735209643";
        $row7	=	"8442175331572457068876047447672176335027";
        $row8	=	"6301637859169555671998105071751286735807";
        $row9	=	"3321123429786456078252420744381551001342";
        $row10	=	"5760863244094727965449174609629052847727";
        $row11	=	"1818079246441716580979838619620676500310";
        $row12	=	"2662389775841607749983114632242014858845";
        $row13	=	"2342406474829777777107453214083298940772";
        $row14	=	"5236281995509226119700567431388022025353";
        $row15	=	"3785943512833950083042340796885442068798";
        $row16	=	"7029171213403320382613895130741776371304";
        $row17	=	"5662183735968350877597122593477033240354";
        $row18	=	"9949772257884295457216643616000443186679";
        $row19	=	"1608150472332714340945593468491272073445";
        $row20	=	"3116933243502789871920153700495285666044";
        $row21	=	"6834301370557430774044227884260433460952";
        $row22	=	"7457256576592997686071913867541358182476";
        $row23	=	"2742378653485590657296576936109646924245";
        $row24	=	"0039682961663732203077845703291045650426";
        $row25	=	"2994989424684969108253759193303425205727";
        $row26	=	"1690826659836264111267190071746047212968";
        $row27	=	"1127947506060919746602943734027670903086";
        $row28	=	"3524101620333251263879784504911692535616";
        $row29	=	"3823168638423897015087756681414001749162";
        $row30	=	"3196259147964433491334868253910052434885";
        $row31	=	"6667406714640571958611056509687683203790";
        $row32	=	"1490844511756388059052274114862298122208";
        $row33	=	"6805511800339602751907606293555933824390";
        $row34	=	"2046787390975140140204023331083954164936";
        $row35	=	"6419589779150615932001901075064078788962";
        $row36	=	"0526937060223585151392035159675956780683";
        $row37	=	"0797108823099842996461716299160651291693";
        $row38	=	"6871868585548766475473320811124495926316";
        $row39	=	"2699616553583778807042105067423217558574";
        $row40	=	"1465526875875936224126786306551308270150";
        $row41	=	"1753775871714161507212419496264495273699";
        $row42	=	"9026592119235223331296930218390702183607";
        $row43	=	"4123525599310449699610474855881341438920";
        $row44	=	"6020508169319973686835813303762430124860";
        $row45	=	"9125380590945828413645375903099035572912";
        $row46	=	"3450577437988033009109779319827494800404";
        $row47	=	"8522043943738153947933624686280831544631";
        $row48	=	"0979137748738297222105032724837289440560";
        $row49	=	"8875801814229575424939328222490248077037";
        $row50	=	"9096237000390003069055857838369437306932";
        $row51	=	"5374239967613228698494626786249833411995";
        $row52	=	"6338068654990065269402829023077962678060";
        $row53	=	"3530582146067217109425213175964928240049";
        $row54	=	"6343368369655118378861384412453292858865";
        $row55	=	"9825375526019182814674711294972402713707";
        $row56	=	"0263211769715080895638157011484340458698";
        $row57	=	"6455222182482228060061541343918278122329";
        $row58	=	"8507261389011007820459636936036911158380";
        $row59	=	"5854162415515444820062616504693818651897";
        $row60	=	"3485278487614864562690184813263770154257";
        $row61	=	"0392182746579916965630337285228464385698";
        $row62	=	"6295302759377541664886978061452353040163";
        $row63	=	"0845931522602175469198772785422888610884";
        $row64	=	"0708551840454475139024949661025755668315";
        $row65	=	"0185899566511019348815849719751276394378";
        $row66	=	"7284711435191158492650111717768631572018";
        $row67	=	"8878281684135253945375456930967389657031";
        $row68	=	"4517756557284019721225127475676040608119";
        $row69	=	"9676281254220111942571961616886864367445";
        $row70	=	"4331677230240294086338323666026936382539";
        $row71	=	"5044664421660658056268155435024235489632";
        $row72	=	"2266221586266375419958423672245837521851";
        $row73	=	"9624401451232230885795674729839469400607";
        $row74	=	"3173916119602072934898570723696595396958";
        $row75	=	"7860739984438994364556694407419022910712";
        $row76	=	"8437906156701023980585113476607648453460";
        $row77	=	"3667100823989335088699297629813334915893";
        $row78	=	"0728590748896458897583856227893014785627";
        $row79	=	"1015838760792431665621482406939198940549";
        $row80	=	"5519689765037352165600535590273342293887";
        $row81	=	"5381291339350120713462337482145373190903";
        $row82	=	"5186326892339874669940147194584594193881";
        $row83	=	"3591702913800354072796947832665095527433";
        $row84	=	"3771679513200244959464850405720132907614";
        $row85	=	"9366138327927964647228549653844814529894";
        $row86	=	"0296084565130500418493075472592145570977";
        $row87	=	"4983434835828833699672360419764745151860";
        $row88	=	"8460716246408081303734392305382515357130";
        $row89	=	"1817308871449114884789233063155634204789";
        $row90	=	"7969106178713276956287002258409254017525";
        $row91	=	"7593365783562014821174219790659642686386";
        $row92	=	"3830922903062881393862250684636129089367";
        $row93	=	"5129501034315775958051970274777615484944";
        $row94	=	"2131388624377981537473241610335283909476";
        $row95	=	"2901238788580239376742101420921655234245";
        $row96	=	"9533952200187472001838795869328176802692";
        $row97	=	"9084607980243659873882075389359635237918";
        $row98	=	"4640629882549720569515748008321646705080";
        $row99	=	"2031890343384682687232148299708060471897";
        $row100	=	"7159730550082223717791019320498296592694";
        $row101	=	"2217686584689523923587022257516109439506";
        $row102	=	"1936275946137993375539773277098552053062";
        $row103	=	"1677230277096187252128062425931671135978";
        $row104	=	"7843767161204490326497676399614638039322";
        $row105	=	"0328282608733732040569301609058869582899";
        $row106	=	"9322536439071063763587030479880813138551";
        $row107	=	"7876585474923870969252067979458263182744";
        $row108	=	"2368352600995393612852700548345665056186";
        $row109	=	"1539257099938652776515335905282287260747";
        $row110	=	"5871963024184623342785139924444918097949";
        $row111	=	"5735273372245363940941107647914404954966";
        $row112	=	"4850865448220634725282211565203329947111";
        $row113	=	"6196489503071639336698561056797721302712";
        $row114	=	"3693894126297083635199742052368709411509";
        $row115	=	"1887004231579012020723473717315408018863";
        $row116	=	"8856532759333572674777345545700818273890";
        $row117	=	"0972958429494131067042380645186484733165";
        $row118	=	"1296881731651969028360758690682464193551";
        $row119	=	"8594572416920984387622002769852981947870";
        $row120	=	"3864435998987787680791516762444098059378";
        $row121	=	"5344094272004168797968472200203555315151";
        $row122	=	"4076662684579999903730633208583740136897";
        $row123	=	"0217791805125952570222079047032814113079";
        $row124	=	"9517820653315110964692068807775611508169";
        $row125	=	"3576224292961183448034683548773342409060";
        $row126	=	"2629135641854704660834727569138243804615";
        $row127	=	"7780207582728232999063957376638973449905";
        $row128	=	"4640664452913674435330821354007845639835";
        $row129	=	"3756081809775384464731911895582416741153";
        $row130	=	"6165616866372747391984837007485321400671";
        $row131	=	"9343696407341804523556270924866185538345";
        $row132	=	"2196601299112099451848139355341837794990";
        $row133	=	"9520479797273783287100064141744589093984";
        $row134	=	"9786217873106581925958761714970476621617";
        $row135	=	"6992063413597174173227551024192371821374";
        $row136	=	"0431172156337399198726723927675377576893";
        $row137	=	"6106980391871477439643006598504560330107";
        $row138	=	"8593858688728708624016061089202321347497";
        $row139	=	"2174324745739607945209659077472576161933";
        $row140	=	"1569538280799623531065390716294533024370";
        $row141	=	"0289080449202114688687639395171129019580";
        $row142	=	"8718158979854301727308617451698974398215";
        $row143	=	"8983719422599750995208528508408780616531";
        $row144	=	"1008582166726849293189858446065973178523";
        $row145	=	"4790561008880284278342297223196656456579";
        $row146	=	"2285616890496492854416404012898850148106";
        $row147	=	"6780437933128311411625581968707702540052";
        $row148	=	"2762509672794461401514534065392731585028";
        $row149	=	"3378808715383006382114474707265496875332";
        $row150	=	"1313926699472449577432254362171097110984";
        $row151	=	"1027539623715054362354310482980414121509";
        $row152	=	"2841506188648527201883363605563971650962";
        $row153	=	"3421425702591918974880300330980524677007";
        $row154	=	"6181772323828211540853287058964407395543";
        $row155	=	"6115181354168620268890748055091453905117";
        $row156	=	"9176216464449113329775316266548480327577";
        $row157	=	"0097790806373028598553566853400174395973";
        $row158	=	"3646183494752080277778916916000843187368";
        $row159	=	"8898996050659579429493624089964356477166";
        $row160	=	"0437598721050203241747278156519234860182";
        $row161	=	"6362063441942178550972763416942995818383";
        $row162	=	"7847235390344192457109237070071238927943";
        $row163	=	"8768621543531436592554473370155924484035";
        $row164	=	"4760921077885953115266256907044868647106";
        $row165	=	"5688875941652804675395798837315041069476";
        $row166	=	"0257458667734307344844268793297709616784";
        $row167	=	"3154141317486211906068129364284624791676";
        $row168	=	"2850164336289785589967225276232470365454";
        $row169	=	"6329626650026345523867634754758324784320";
        $row170	=	"4565582651769659387286574571464467761455";
        $row171	=	"3965368270774585505174133935223053360295";
        $row172	=	"7371981604291894512376519484867993963863";
        $row173	=	"7220562011726571088079579513919748726648";
        $row174	=	"7517269976893720700177316195462697057351";
        $row175	=	"3740606329813015391448387593290687377848";
        $row176	=	"6808028072837146304989179588290239560346";
        $row177	=	"1423986167705285015001840278431062981941";
        $row178	=	"4908962144252799412807410834661942743991";
        $row179	=	"7837060843636162422939689510960924230062";
        $row180	=	"3721341768689683235632846015314473673477";
        $row181	=	"1429093404878307550776583083648729255884";
        $row182	=	"5843280636495283511447569129340687310695";
        $row183	=	"1043672970806280034210802138849056350309";
        $row184	=	"4438883954869737442200950131761716295663";
        $row185	=	"9069561951873952851307283707611116362703";
        $row186	=	"4147102562970821036120263631626869869544";
        $row187	=	"9194146319758911471131563419097957923659";
        $row188	=	"8006541866091894061998400717812245448411";
        $row189	=	"6772776348840831555824334577588045679382";
        $row190	=	"5940241327792688863001316010395358477093";
        $row191	=	"0590358995016116969450781369363768533731";
        $row192	=	"4443806998466805148290785005627779135744";
        $row193	=	"6181319682005725605946726018775566126211";
        $row194	=	"4288071005249865632147216188322780302160";
        $row195	=	"7794300539281099002712737399124999579482";
        $row196	=	"7883197616941168842623542086852386669907";
        $row197	=	"8776596181436364616165763695901848274568";
        $row198	=	"9143059647557899952437558578780148411910";
        $row199	=	"8497777273096206657287124903604115207627";
        $row200	=	"8741607683448896078083058338967370668190";
        $row201	=	"2889658708135063042325475791135262241994";
        $row202	=	"3029436542786628558047464190085598781070";
        $row203	=	"9574626053515732222712727227774467322313";
        $row204	=	"0184549672668665646056597536754644436371";
        $row205	=	"1091469686198352475365005193513080051929";
        $row206	=	"0533180851517857261734879623958999933979";
        $row207	=	"0443133700796896266070398366566203558657";
        $row208	=	"0585402524735293705048214774631727275126";
        $row209	=	"8490906577639925690209040335781979950721";
        $row210	=	"2855530948862830023571303206479374218633";
        $row211	=	"8983406980979647599756332487361718169046";
        $row212	=	"7320960568934169960797508179594237138183";
        $row213	=	"1089077621402474364240330446243563023161";
        $row214	=	"9150277837060616259817788036852641776337";
        $row215	=	"0354446688978126038939466721179810393315";
        $row216	=	"8941589163659959978490147961555616888760";
        $row217	=	"1343009726169121324160226672173185336007";
        $row218	=	"7171005172620389263235279918257812030970";
        $row219	=	"1928150041422773403837110575169881993729";
        $row220	=	"5638309230455194690400841436379566390109";
        $row221	=	"3927528911008106284812080575260335630577";
        $row222	=	"7313285801050642240760602999937293780436";
        $row223	=	"8160845157126846558960097187897081109591";
        $row224	=	"0562980785077926696167957237418579764823";
        $row225	=	"6297162918521616235662958097633225340336";
        $row226	=	"3113632108160192582148797473720874809138";
        $row227	=	"9738353419898405344788093154889796860169";
        $row228	=	"3211783382519998443912751060368066399497";
        $row229	=	"8199133705081260392361638489182602043795";
        $row230	=	"4574000305699947265248063000180330285559";
        $row231	=	"1184136901889128795071421496559859960136";
        $row232	=	"1466128722594527085185642385416472085944";
        $row233	=	"4025678782842717303748694902589802505811";
        $row234	=	"4448974943654553410714834674117666636008";
        $row235	=	"4194540657482801838409112191739728447406";
        $row236	=	"0712155884931831834554526229915358546605";
        $row237	=	"6427904352182632968350584527571496396485";
        $row238	=	"8071864103456263408835693410943222520474";
        $row239	=	"2706080992262259282738582214792432123842";
        $row240	=	"5468972054332674033074221913483028019249";
        $row241	=	"0292656899055315267004692264070473257482";
        $row242	=	"8352577862986170482268506455754270320960";
        $row243	=	"8282763133851341381016476143778327197041";
        $row244	=	"3861340949044166097620507340952477957320";
        $row245	=	"0101118838031016822439582012398277021888";
        $row246	=	"2166143828540818070492176336753314111178";
        $row247	=	"3229306959685033314715648875270451416196";
        $row248	=	"0459216547399089867746868688865009132491";
        $row249	=	"3864500736565045942548284830516073730387";
        $row250	=	"4833508353597764599058926250189309458906";

        $column1_1	=	"6911518635122537591367202113336162600621194693808956369068530600078494529378301555339048177352299427211709721554631801835409327436929960682108814262311236690380678450326437773614731514949865046477898823901000828719081715378063938411444068250883023034";
        $column1_2	=	"762564337863270696184709615816480457864701014598033538245843287128563026184670531573294895811950601296833835878168892583025567671315794151527907277330841110684387762183593257849874804011079541278714780510545489301393196931521721514041740742328112488";
        $column2_1	=	"4775524026164382640135439922296904129796522225277973342650589940887173462763621188976986169323038435137422763735998579964711728456492893097681809886712428179493646685552667214020322443649074948898749482789348958285544723216691319786249127069586062563";
        $column2_2	=	"7466922110822659298647294074367056967195363050295648035357452558548761464307785916116630793091134019767382689150637626444677690065360621634998380502837111567687278087409551070838719338974620031843637199441335053090413188730273819446584271682221169943";
        $column3_1	=	"4268571618034291171932369891124857591865755535018220533222121395872726624979158623761047313953296687622725532928480598540678212606664201983501755645895547127195026984116539526099030268511572383031507664654114954902450013528916371011695198096573113255";
        $column3_2	=	"3425677326780847875305788240650418830612792087430336867126678035918587620130093892073831006208350293873683855676890358739692230681907167852385186130023027819899632275462868660286649878604474501709957053246830030677480050284863583032774506875764140100";
        $column4_1	=	"7629395733996131320316829671896417978866525807371798285121282211911617411696008916298446865218827900650726527335944281254210457416619732084808921679869652160368351158146281296862013023126161869107697786699032606077699509855022333068840544026730836608";
        $column4_2	=	"3779543842274952724235694656617583708558815154978096135713447758546522454191877738953582817906729835592164460034512747492686265488427841367249410896766173348407435096336626093011874699953833996056162675066875599568617102981791437397796831908819889573";
        $column5_1	=	"8662633524477911357477562502341109762857719693441065462688184524638553285185246639112634778032808845847603709274023523197805948506099715984847260937192802560952494746135570172764460375561642998031847804578502748623862743105810180002845850959634325435";
        $column5_2	=	"6266491994654523572306314960874100903535199907384074696929576920654740161946380592337556183344800230467189409428361991682453212296797336185099268032593823446401103717760104169274384604129687582596173382326104780817836210117588925512237423249239889763";
        $column6_1	=	"3459345170488584983555466803496739120558723399772369060740565364511222622647987033829184475033512530610270999122025346990513987973312153877728578417347658143760935867420772788872668488897087040229450417561577689940961644001051850685864914230980056355";
        $column6_2	=	"6266897689442030683059868363264537529487131148332919651181117705193824663030899353002320416617884488839037293842797395280721652177417093723905928929871492647555443853882679291305387906775949160484359438169193367306756225052726918989458385635854348969";
        $column7_1	=	"9859352964119933842272534603340695039835450958889030759521549724115400062281962709007088932257073942976431358450179341074955148352123677189924960684325818893290241524696941633752698569308102665911676856588765929420899025806710891994242126225614105957";
        $column7_2	=	"6106844547767293327749579292845361658779124980125020211020489514012012632090344318329580120879246762591470836636600519971991172637807513476613782434040592610052114983273658570127163227989886187801382806763882986146191371168961492915758862263131080007";
        $column8_1	=	"4126845552107252591839936615937804184673624723597026118820461477155119573792353527546038171878375282298936795263381736886951803784098879700210548916045211212870793500184589721489680883521938102696690962365599234671252879044219096422150336571746113846";
        $column8_2	=	"7468237567677600054907029491731820552686139383375385782087446155983914850243581204444031464151929023337023032334932219478920342447493149787341094211694781038093826347155954105659237307211418655598496638252763507946691934626662580787731123945016683954";
        $column9_1	=	"3572450609577103843876621172049071919482536640924062138808859641349790048939086176096463898395308567932307967397360600367959469443542911469567922844353295235242545163955355073304425504804058916608696005264227605932093246225625343270348894202430803895";
        $column9_2	=	"6717646776847188754778500146195554359702039810422696071962266663494248518368896616754190852953707681275246617442332762889076469369258279324382997510876074629724559174082801809011235134537656640304155745247660929665372609845938449698013360836889271649";
        $column10_1	=	"6203288185097932770146738163518910216574719639724989984500025499825126695440875539297893461387613977352603926205650478707304809541317538945187538411272140898791072554693752801452250142161153985222627828265165039049884330408652432555308488237217204729";
        $column10_2	=	"1071228924991706529900202268036092034401226861919044486604066810863253297855656649742467721804788527551455285792617703679726080379581927602063213465143888875747915238098213014908967422311980429176142030703700257728941284879161793201774538700206447750";
        $column11_1	=	"4430317954780041914247975607831500096742191340303590267365693892157273659958982064962973887657438139832968551848992746296329336338540522410680084121135885975794705694666877774800337410023920594412638824156374075941396330166664816478410553370612391445";
        $column11_2	=	"6225176829937023765041673729741274121326260559359542514819200684505518885865931020648324974213282521798797225512893720218022443014680876369578892654424303053837294654877646978917926700701841006723577357265408916707900570200728821815849405844860925688";
        $column12_1	=	"9590630141814538165129587197780260907317494837603868237156613979814193146561284531985033202292170710070630073112574337054600679898210757006366582455423332735962724272126515533184685589225433777275751044750832033537412218060997076046681556526545516829";
        $column12_2	=	"8303274027315649249521745948565702031208137177232522181543183774415262527791958334454769301574097441276703603301647485017376825213736652065931259083751608416127637596223731718741848605866031882134652576290791403038642714809559953624931289829070874682";
        $column13_1	=	"6377497504843705233373659034686463156056904359428769341716647829916713534043762577709502329001155889232610705971123508262398377117094113619097887414440307866648373688954439967900963920333046156672384854775984032808676901027787318312442643212667268846";
        $column13_2	=	"3292334076662471564788971075625123012803428393672870142039582076779466467744624541846443027626483023224364959965007566772208553380931709500734542090734630028901403987327594515528500111764750300130659371251637324140796954591204104043961254292413038682";
        $column14_1	=	"7379024740131393916086309730850193759160915001822382719143018686113716372207220989305710659871268092572907740246551449660040467590254122987195042166068035565185177039675738199873118233031171601898970399239267308743267173798397568098079221116544137835";
        $column14_2	=	"1783937149924160368047633144139431599176685339642863524136435151970566529376976024253295380440099890775999985475627550920877896457451447897651863285722508563696600773464154353884053981719770958896583810763364567966112856597773409065241970434530265800";
        $column15_1	=	"6351976736620387404425123709496850061145238708284320949490622440779680028646889215678573146673933374509608432492733716842507716054837916524216401873219599054095901032227428942246936387660853367318976910775956743528151213298467831154517959740779372851";
        $column15_2	=	"2235087582248884709964090421118658676225698692839647657813962522566782243910193748624968505373225209193158548410961088540837733088644797007979069909678686940061475419835626169936614446129189627225080638751563876945757567639132868851813174987575957618";
        $column16_1	=	"3215082119023851701501913671407253450431401297070997432486338225187666459697339354504242599675189188681480852443785062243325388725614025422418856872510304180049215457428437920011048091167285375242104755443861191432953799077830982096979513230482830569";
        $column16_2	=	"3737671250602047042243604066006299096423473404822489924329874387263089284506301335018175626162616602156688262943774844905786329843185433535519796877404954441832929807643409766209947607189203775793811325460927937256861885320528706384867342404234234003";
        $column17_1	=	"2051137855719247347835442479058935755910904339384336290471176585738463336924319479931441354218573469057361668102200186895411447412838777627327875503991720587453932640272659498364272851165445676898441769648902771364118186398727960357062592327727715070";
        $column17_2	=	"6752856612648226332538655702123834861578521054198732822081804385619046579528448234524555442953565606921893357849198844185041233561579617016394036021674147304364584819404733877922439766697558896096885028740937948731065216531954662092268862283077741939";
        $column18_1	=	"1331423708589003210641962295742181772952214158540346287411613066356633454394979211595513206049282745401051102099340271903115484674570685331003614155811663933148894606737739703597262332389464511356242627340952921107383093671738830290564535102319014174";
        $column18_2	=	"6680403304054267487668250103430226889257783270447017451525558416975068820915184999202755018880303079353383856954011739451310004340399227346219175448712579029876128461968666257684375159662477332076710648235357516327983399380640694868034492215295211335";
        $column19_1	=	"8051395517080581063602405235943244801680338420407618083828145008427872910603550303779017476949427512935928260747218333795638949910843116071498686805501075575770874796154103677013035005293897356299417811261385089836386030009409093505567660397077116208";
        $column19_2	=	"0784260837387373364094247906187239966351669894650990087633826183300145686974865898468981753394269086509385717991758815831801069816399638149352555100395905159311390147643428638399048636756430772149596190339961760113370971545831147519804644824903811439";
        $column20_1	=	"4552542042147590574457422681689093689175902610363396460928959681713143350516924808319763828647491899067295484461106965775976610357498179093781327052380604177668843078752596454449678906045189341680612997172752234863160720739233699534100087448642879980";
        $column20_2	=	"5191337727052384495426567866250806233640970024107250957890778345881959217820379731344700956746528074628291467961293051081799055531504743773005139628249273773862335664640553818611274593349123141027807040319976136317507099761368975964186554292010886176";

        $lote = 15000;
        $row = 20;
        $col = 2;
        $samples = 20;

        $init_row = [1, 36, 71, 106, 141, 176, 211, 246];
        $limit_row = [35, 70, 105, 140, 175, 210, 245, 250];
        $limit_column = 20;

        $procedimiento = Procedure::where('max','>=',$lote)->where('min','<=',$lote)->first();

        $columnas_a_usar = round($procedimiento->digits/2);

        if($procedimiento->move == "utd"){
            $aux = 0;
            $numero = collect();
            $valido=0;
            $salida = [];

            while($valido < $samples){
                $fila = "row".$row;
                $number = intval(filter_var(substr($$fila, $col, $procedimiento->digits), FILTER_SANITIZE_NUMBER_INT));
                $numero->put('fila', $row);

                $count = 0;
                $column_to_show = '';
                while($count < $columnas_a_usar ){
                    $column_to_show .= $col+$count.' | ';
                    $count++;
                }
                $column_to_show = substr($column_to_show, 0, -2);
                $numero->put('columna', $column_to_show);

                $numero->put('valor_original', $number);
                if($number == 0){
                    $numero->put('valor_final', $procedimiento->max);
                    $numero->put('valido', $procedimiento->max<=$lote);
                    $numero->put('operación', "NA");
                    $numero->put('comentario', "Art. 8. El ". $valor_original ." de la tabla se leerá como ".$procedimiento->max);
                }else{
                    if($procedimiento->divider <> 0){
                        if($number%$procedimiento->divider == 0){
                            $numero->put('valor_final', $procedimiento->max);
                            $numero->put('valido', $procedimiento->max<=$lote);
                            $numero->put('operación', floor($number/$procedimiento->divider).' x '.$procedimiento->divider.' + '.$number%$procedimiento->divider.' = '.$number);
                            $numero->put('comentario', "Art. 8. El resto 0 de la tabla se leerá como ".$procedimiento->max);
                            if($number%$procedimiento->divider>$lote)
                                $numero->put('comentario','Valor final mayor al lote.');
                        }else{
                            $numero->put('valor_final', $number%$procedimiento->divider);
                            $numero->put('valido', $number%$procedimiento->divider<=$lote);
                            $numero->put('comentario', 'NA');
                            if($number%$procedimiento->divider>$lote)
                                $numero->put('comentario', 'Valor final mayor al lote.');
                            $numero->put('operación', floor($number/$procedimiento->divider).' x '.$procedimiento->divider.' + '.$number%$procedimiento->divider.' = '.$number);
                        }
                    }else{
                        $numero->put('valor_final', $number);
                        $numero->put('valido', $number<=$lote);
                        if($number>$lote)
                                $numero->put('comentario', 'Valor final mayor al lote.');
                        $numero->put('operación', 'NA');
                    }
                }
                if($this->isAlreadyTake($numero, $salida))
                    $numero->put('valido', false);
                if($numero['valido'])
                    $valido++;
                
                if(in_array($row, $limit_row)){ //si la fila actual es la última de la pagina entro 
                    if($col+$columnas_a_usar - 1 >= 20){
                        $row++;
                        $col = 1;
                    }else{
                        $row= $init_row[array_search($row, $limit_row)]; //seteo la fila con la inicial de su misma pagina
                        $col = $col+$columnas_a_usar;
                        echo $col;
                    }
                }else{
                    $row++;
                }
                

                    

                $aux++;
                $salida[] = json_encode($numero);  
                
            }
            echo json_encode($salida);
        }
    }


    private function isAlreadyTake($numero, $salidas)
    {
        foreach($salidas as $salida){
            if (json_decode($salida)->valor_final == $numero['valor_final'])             
                return true;
        }
            return false;
        
    }
}
